-- =====================================================
-- サンプルデータ挿入スクリプト (30件ずつ)
-- Rental Machine App Database
-- Docker環境用: データベース接続は不要
-- =====================================================

-- =====================================================
-- MST_USER サンプルデータ (30件)
-- =====================================================

INSERT INTO MST_USER (employee_no, name, name_kana, department, tel_no, mail_address, age, gender, position, account_level, retire_date, register_date)
VALUES 
    ('E001', '山田太郎', 'ヤマダタロウ', '開発部', '03-1234-5678', 'yamada.taro@example.com', 30, 1, 'エンジニア', TRUE, NULL, '2024-01-10'),
    ('E002', '佐藤花子', 'サトウハナコ', '営業部', '03-9876-5432', 'sato.hanako@example.com', 28, 2, '営業', FALSE, NULL, '2024-01-15'),
    ('E003', '鈴木一郎', 'スズキイチロウ', '開発部', '03-5555-1234', 'suzuki.ichiro@example.com', 35, 1, 'マネージャー', TRUE, NULL, '2024-01-20'),
    ('E004', '高橋美咲', 'タカハシミサキ', '人事部', '03-2222-3333', 'takahashi.misaki@example.com', 32, 2, '人事', FALSE, NULL, '2024-02-01'),
    ('E005', '田中健太', 'タナカケンタ', '開発部', '03-4444-5555', 'tanaka.kenta@example.com', 27, 1, 'エンジニア', FALSE, NULL, '2024-02-10'),
    ('E006', '伊藤さくら', 'イトウサクラ', '総務部', '03-6666-7777', 'ito.sakura@example.com', 29, 2, '総務', FALSE, NULL, '2024-02-15'),
    ('E007', '渡辺大輔', 'ワタナベダイスケ', '開発部', '03-8888-9999', 'watanabe.daisuke@example.com', 33, 1, 'シニアエンジニア', TRUE, NULL, '2024-03-01'),
    ('E008', '中村愛', 'ナカムラアイ', '営業部', '03-1111-2222', 'nakamura.ai@example.com', 26, 2, '営業アシスタント', FALSE, NULL, '2024-03-05'),
    ('E009', '小林直樹', 'コバヤシナオキ', 'マーケティング部', '03-3333-4444', 'kobayashi.naoki@example.com', 31, 1, 'マーケター', FALSE, NULL, '2024-03-10'),
    ('E010', '加藤優子', 'カトウユウコ', '経理部', '03-5555-6666', 'kato.yuko@example.com', 34, 2, '経理', FALSE, NULL, '2024-03-15'),
    ('E011', '吉田拓也', 'ヨシダタクヤ', '開発部', '03-7777-8888', 'yoshida.takuya@example.com', 28, 1, 'エンジニア', FALSE, NULL, '2024-04-01'),
    ('E012', '山本彩', 'ヤマモトアヤ', '営業部', '03-9999-0000', 'yamamoto.aya@example.com', 25, 2, '営業', FALSE, NULL, '2024-04-05'),
    ('E013', '佐々木翔', 'ササキショウ', 'IT推進部', '03-1234-9876', 'sasaki.sho@example.com', 36, 1, 'ITマネージャー', TRUE, NULL, '2024-04-10'),
    ('E014', '松本舞', 'マツモトマイ', '広報部', '03-5678-1234', 'matsumoto.mai@example.com', 27, 2, '広報', FALSE, NULL, '2024-04-15'),
    ('E015', '井上剛', 'イノウエツヨシ', '開発部', '03-8765-4321', 'inoue.tsuyoshi@example.com', 29, 1, 'エンジニア', FALSE, NULL, '2024-05-01'),
    ('E016', '木村真理子', 'キムラマリコ', '人事部', '03-2468-1357', 'kimura.mariko@example.com', 31, 2, '採用担当', FALSE, NULL, '2024-05-05'),
    ('E017', '林慎吾', 'ハヤシシンゴ', '開発部', '03-1357-2468', 'hayashi.shingo@example.com', 30, 1, 'テックリード', TRUE, NULL, '2024-05-10'),
    ('E018', '清水梨花', 'シミズリカ', '総務部', '03-9876-5432', 'shimizu.rika@example.com', 28, 2, '総務アシスタント', FALSE, NULL, '2024-05-15'),
    ('E019', '山口浩二', 'ヤマグチコウジ', '営業部', '03-5432-9876', 'yamaguchi.koji@example.com', 33, 1, '営業リーダー', FALSE, NULL, '2024-06-01'),
    ('E020', '池田美穂', 'イケダミホ', 'マーケティング部', '03-6543-2109', 'ikeda.miho@example.com', 26, 2, 'マーケター', FALSE, NULL, '2024-06-05'),
    ('E021', '斉藤隆', 'サイトウタカシ', '開発部', '03-3210-6543', 'saito.takashi@example.com', 32, 1, 'エンジニア', FALSE, NULL, '2024-06-10'),
    ('E022', '橋本由美', 'ハシモトユミ', '経理部', '03-7890-1234', 'hashimoto.yumi@example.com', 35, 2, '経理主任', FALSE, NULL, '2024-06-15'),
    ('E023', '西村健', 'ニシムラケン', '開発部', '03-4567-8901', 'nishimura.ken@example.com', 27, 1, 'エンジニア', FALSE, NULL, '2024-07-01'),
    ('E024', '石川優', 'イシカワユウ', 'IT推進部', '03-2345-6789', 'ishikawa.yu@example.com', 34, 1, 'ITスペシャリスト', TRUE, NULL, '2024-07-05'),
    ('E025', '前田千夏', 'マエダチナツ', '営業部', '03-6789-0123', 'maeda.chinatsu@example.com', 29, 2, '営業', FALSE, NULL, '2024-07-10'),
    ('E026', '藤田雄太', 'フジタユウタ', '開発部', '03-9012-3456', 'fujita.yuta@example.com', 28, 1, 'エンジニア', FALSE, NULL, '2024-07-15'),
    ('E027', '岡田麻衣', 'オカダマイ', '人事部', '03-3456-7890', 'okada.mai@example.com', 30, 2, '人事', FALSE, NULL, '2024-08-01'),
    ('E028', '長谷川誠', 'ハセガワマコト', '開発部', '03-7891-2345', 'hasegawa.makoto@example.com', 31, 1, 'シニアエンジニア', FALSE, NULL, '2024-08-05'),
    ('E029', '村上奈々', 'ムラカミナナ', '総務部', '03-1230-4567', 'murakami.nana@example.com', 26, 2, '総務', FALSE, NULL, '2024-08-10'),
    ('E030', '近藤勇', 'コンドウイサム', '開発部', '03-4568-9012', 'kondo.isamu@example.com', 37, 1, '開発部長', TRUE, NULL, '2024-08-15');

-- =====================================================
-- MST_DEVICE サンプルデータ (30件)
-- =====================================================

INSERT INTO MST_DEVICE (maker, os, memory, capacity, has_gpu, location, lease_start_date, lease_end_date, note, register_date, inventory_date)
VALUES 
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-01-01', '2027-01-01', 'GPU搭載の開発用機', '2024-01-05', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社2F 営業エリア', '2023-06-01', '2026-06-01', '営業用標準機', '2023-06-05', '2024-11-01'),
    ('Lenovo', 'Windows 11 Pro', '32GB', '1TB', TRUE, '本社4F AI研究室', '2024-03-01', '2027-03-01', 'AI開発専用機', '2024-03-05', '2024-11-01'),
    ('Apple', 'macOS Sonoma', '16GB', '512GB', FALSE, '本社3F デザイン室', '2024-02-01', '2027-02-01', 'デザイナー用Mac', '2024-02-05', '2024-11-01'),
    ('ASUS', 'Windows 11 Home', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-04-01', '2027-04-01', 'ゲーム開発用', '2024-04-05', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '32GB', '1TB', TRUE, '本社4F データサイエンスチーム', '2024-05-01', '2027-05-01', 'データ分析用ハイスペック機', '2024-05-05', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社2F 営業エリア', '2023-09-01', '2026-09-01', NULL, '2023-09-05', '2024-11-01'),
    ('Lenovo', 'Windows 11 Pro', '16GB', '512GB', FALSE, '本社1F 受付', '2024-06-01', '2027-06-01', '受付用PC', '2024-06-05', '2024-11-01'),
    ('Apple', 'macOS Ventura', '32GB', '1TB', FALSE, '本社3F 映像制作室', '2024-01-15', '2027-01-15', '映像編集用Mac', '2024-01-20', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-07-01', '2027-07-01', NULL, '2024-07-05', '2024-11-01'),
    ('MSI', 'Windows 11 Pro', '32GB', '2TB', TRUE, '本社4F ゲーム開発室', '2024-08-01', '2027-08-01', 'ゲーム開発用ハイエンド機', '2024-08-05', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社2F 営業エリア', '2023-12-01', '2026-12-01', NULL, '2023-12-05', '2024-11-01'),
    ('Lenovo', 'Windows 11 Pro', '16GB', '512GB', FALSE, '本社3F 開発エリア', '2024-09-01', '2027-09-01', NULL, '2024-09-05', '2024-11-01'),
    ('Apple', 'macOS Sonoma', '16GB', '512GB', FALSE, '本社3F デザイン室', '2024-10-01', '2027-10-01', NULL, '2024-10-05', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-11-01', '2027-11-01', NULL, '2024-11-05', '2024-11-01'),
    ('ASUS', 'Windows 11 Pro', '32GB', '1TB', TRUE, '本社4F AI研究室', '2024-02-15', '2027-02-15', 'AI学習用GPU搭載機', '2024-02-20', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社2F 営業エリア', '2024-03-15', '2027-03-15', NULL, '2024-03-20', '2024-11-01'),
    ('Lenovo', 'Windows 11 Pro', '16GB', '512GB', FALSE, '本社5F 総務部', '2024-04-15', '2027-04-15', '総務部用PC', '2024-04-20', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', FALSE, '本社5F 人事部', '2024-05-15', '2027-05-15', '人事部用PC', '2024-05-20', '2024-11-01'),
    ('Apple', 'macOS Sonoma', '32GB', '1TB', FALSE, '本社3F 映像制作室', '2024-06-15', '2027-06-15', '4K映像編集用Mac', '2024-06-20', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社2F マーケティング部', '2024-07-15', '2027-07-15', NULL, '2024-07-20', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-08-15', '2027-08-15', NULL, '2024-08-20', '2024-11-01'),
    ('Lenovo', 'Windows 11 Pro', '32GB', '1TB', TRUE, '本社4F データサイエンスチーム', '2024-09-15', '2027-09-15', 'ビッグデータ分析用', '2024-09-20', '2024-11-01'),
    ('ASUS', 'Windows 11 Pro', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-10-15', '2027-10-15', NULL, '2024-10-20', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社5F 経理部', '2024-01-25', '2027-01-25', '経理部用PC', '2024-01-30', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', FALSE, '本社6F 役員室', '2024-02-25', '2027-02-25', '役員用PC', '2024-03-01', '2024-11-01'),
    ('Apple', 'macOS Ventura', '16GB', '512GB', FALSE, '本社3F デザイン室', '2024-03-25', '2027-03-25', NULL, '2024-03-30', '2024-11-01'),
    ('Lenovo', 'Windows 11 Pro', '16GB', '512GB', FALSE, '本社1F 会議室', '2024-04-25', '2027-04-25', '会議室用PC', '2024-04-30', '2024-11-01'),
    ('HP', 'Windows 10 Pro', '8GB', '256GB', FALSE, '本社2F 営業エリア', '2024-05-25', '2027-05-25', NULL, '2024-05-30', '2024-11-01'),
    ('Dell', 'Windows 11 Pro', '16GB', '512GB', TRUE, '本社3F 開発エリア', '2024-06-25', '2027-06-25', NULL, '2024-06-30', '2024-11-01');

-- =====================================================
-- TRN_RENTAL サンプルデータ (30件)
-- =====================================================

-- 現在貸出中のレコード (15件)
INSERT INTO TRN_RENTAL (asset_no, employee_no, rental_flag, rental_date, return_due_date, return_date, note)
VALUES 
    ('PC-001', 'E001', TRUE, '2025-11-10', '2025-11-25', NULL, 'プロジェクトX用'),
    ('PC-003', 'E003', TRUE, '2025-11-12', '2025-11-30', NULL, 'AI研究プロジェクト'),
    ('PC-005', 'E011', TRUE, '2025-11-14', '2025-11-28', NULL, 'ゲーム開発'),
    ('PC-007', 'E002', TRUE, '2025-11-13', '2025-11-27', NULL, '営業プレゼン用'),
    ('PC-010', 'E005', TRUE, '2025-11-15', '2025-12-01', NULL, 'Webアプリ開発'),
    ('PC-013', 'E015', TRUE, '2025-11-16', '2025-12-02', NULL, 'バックエンド開発'),
    ('PC-015', 'E007', TRUE, '2025-11-17', '2025-12-03', NULL, 'システム設計'),
    ('PC-018', 'E004', TRUE, '2025-11-11', '2025-11-26', NULL, '人事システム構築'),
    ('PC-020', 'E009', TRUE, '2025-11-18', '2025-12-04', NULL, 'マーケティング分析'),
    ('PC-022', 'E017', TRUE, '2025-11-08', '2025-11-22', NULL, '技術検証'),
    ('PC-024', 'E021', TRUE, '2025-11-09', '2025-11-23', NULL, 'モバイルアプリ開発'),
    ('PC-026', 'E013', TRUE, '2025-11-07', '2025-11-21', NULL, 'IT基盤構築'),
    ('PC-028', 'E023', TRUE, '2025-11-06', '2025-11-20', NULL, 'フロントエンド開発'),
    ('PC-029', 'E026', TRUE, '2025-11-05', '2025-11-19', NULL, 'テスト環境構築'),
    ('PC-030', 'E028', TRUE, '2025-11-04', '2025-11-18', NULL, 'パフォーマンス最適化');

-- 返却済みのレコード (15件)
INSERT INTO TRN_RENTAL (asset_no, employee_no, rental_flag, rental_date, return_due_date, return_date, note)
VALUES 
    ('PC-002', 'E002', FALSE, '2025-10-01', '2025-10-15', '2025-10-14', '営業活動用'),
    ('PC-004', 'E008', FALSE, '2025-10-05', '2025-10-20', '2025-10-19', 'プレゼン資料作成'),
    ('PC-006', 'E005', FALSE, '2025-10-10', '2025-10-25', '2025-10-24', 'システム開発'),
    ('PC-008', 'E006', FALSE, '2025-09-15', '2025-09-30', '2025-09-29', '書類作成'),
    ('PC-009', 'E012', FALSE, '2025-09-20', '2025-10-05', '2025-10-04', '営業用'),
    ('PC-011', 'E014', FALSE, '2025-09-25', '2025-10-10', '2025-10-09', '広報活動'),
    ('PC-012', 'E019', FALSE, '2025-10-02', '2025-10-17', '2025-10-16', '顧客訪問用'),
    ('PC-014', 'E020', FALSE, '2025-10-08', '2025-10-23', '2025-10-22', 'マーケティング調査'),
    ('PC-016', 'E010', FALSE, '2025-10-12', '2025-10-27', '2025-10-26', '経理処理'),
    ('PC-017', 'E025', FALSE, '2025-10-15', '2025-10-30', '2025-10-29', '営業報告書作成'),
    ('PC-019', 'E016', FALSE, '2025-09-10', '2025-09-25', '2025-09-24', '採用面接用'),
    ('PC-021', 'E022', FALSE, '2025-09-05', '2025-09-20', '2025-09-19', '決算処理'),
    ('PC-023', 'E018', FALSE, '2025-09-01', '2025-09-16', '2025-09-15', '資料整理'),
    ('PC-025', 'E027', FALSE, '2025-08-25', '2025-09-10', '2025-09-09', '人事評価資料作成'),
    ('PC-027', 'E029', FALSE, '2025-08-20', '2025-09-05', '2025-09-04', '総務業務');

-- =====================================================
-- データ挿入完了メッセージ
-- =====================================================

DO $$
DECLARE
    device_count INT;
    user_count INT;
    rental_count INT;
BEGIN
    SELECT COUNT(*) INTO device_count FROM MST_DEVICE WHERE delete_flag = FALSE;
    SELECT COUNT(*) INTO user_count FROM MST_USER WHERE delete_flag = FALSE;
    SELECT COUNT(*) INTO rental_count FROM TRN_RENTAL WHERE delete_flag = FALSE;
    
    RAISE NOTICE '================================';
    RAISE NOTICE 'サンプルデータ挿入が完了しました';
    RAISE NOTICE '================================';
    RAISE NOTICE 'MST_DEVICE: % 件', device_count;
    RAISE NOTICE 'MST_USER: % 件', user_count;
    RAISE NOTICE 'TRN_RENTAL: % 件', rental_count;
    RAISE NOTICE '  - 貸出中: % 件', (SELECT COUNT(*) FROM TRN_RENTAL WHERE rental_flag = TRUE AND delete_flag = FALSE);
    RAISE NOTICE '  - 返却済: % 件', (SELECT COUNT(*) FROM TRN_RENTAL WHERE rental_flag = FALSE AND delete_flag = FALSE);
    RAISE NOTICE '================================';
END $$;
